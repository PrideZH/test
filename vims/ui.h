#pragma once

#include <stdio.h>
#include <windows.h>
#include <conio.h>
#include "car.h"

#define CONSOLE_COLOR 0x02 //控制台颜色
#define CURSOR_COLOR 0x0f //光标颜色
#define FPS 30 //窗口刷新频率

extern HANDLE hIn, hOut;
extern COORD mouse_pos; //存储鼠标位置
extern DWORD Result; //存储读取记录
extern INPUT_RECORD Buf; //存储操作事件

enum BUTTON 
{
	NONE, //无操作

	CONFIRM_BUTTON, //确认
	RETURN_BUTTON, //返回、取消
	//传递界面按钮
	ADD_BUTTON,
	BROWSE_BUTTON,
	FIND_BUTTON,
	EXIT_BUTTON,
	//添加修改车辆界面按钮
	INPUT_BUTTON,
	EMPTY_BUTTON,
	//浏览车辆界面按钮
	SORT_ID_BUTTON,
	SORT_SEAT_BUTTON,
	SORT_EMISSION_BUTTON,
	SORT_PRICE_BUTTON,

	SET_BUTTON,
	DELETE_BUTTON,

	PREVIOUS_BUTTON,
	NEXT_BUTTON,
	//查找车辆界面按钮
	FIND_ID_BUTTON,
	FIND_TYPE_BUTTON,
	FIND_MANUFACTURER_BUTTON,
	FIND_GRADE_BUTTON,
	FIND_SEAT_BUTTON,
	FIND_EMISSION_BUTTON,
	FIND_GEARBOX_BUTTON,
	FIND_COLOUR_BUTTON,
	FIND_PRICE_BUTTON,
	//退出程序界面按钮
	YES,
	NO,
	CANCEL
};

/***********************************************************************
 * 说明：  清空屏幕并绘制窗口外框
 ***********************************************************************/
void draw_window(); 

/***********************************************************************
 * 说明：  绘制弹窗外框
 ***********************************************************************/
void draw_popup();

/***********************************************************************
 * 说明：  弹窗提示
 ***********************************************************************/
void popup_prompt(const char *information); 

/***********************************************************************
 * 说明：  弹窗输入
 ***********************************************************************/
void popup_input(const char *information, int content_lenght);

/***********************************************************************
 * 说明：  弹窗输入字符串
 ***********************************************************************/
void popup_input_str(const char *information, char *content, int content_lenght);

/***********************************************************************
 * 说明：  弹窗输入整型
 ***********************************************************************/
void popup_input_int(const char *information, int *content, int content_lenght);

/***********************************************************************
 * 说明：  弹窗输入浮点型
 ***********************************************************************/
void popup_input_float(const char *information, float *content, int content_lenght);

/***********************************************************************
 * 说明：  绘制菜单的光标
 ***********************************************************************/
void draw_menu_button(); 

/***********************************************************************
 * 说明：  判断菜单界面的鼠标点击
 ***********************************************************************/
BUTTON menu_click();

/***********************************************************************
 * 说明：  绘制添加或修改车辆界面
 ***********************************************************************/
void draw_set_windows(PCAR car);

/***********************************************************************
 * 说明：  绘制添加或修改车辆界面的光标
 ***********************************************************************/
void draw_set_button();

/***********************************************************************
 * 说明：  判断浏览车辆界面的鼠标点击
 ***********************************************************************/
BUTTON set_click();

/***********************************************************************
 * 说明：  绘制浏览车辆界面
 ***********************************************************************/
void draw_browse_windows();

/***********************************************************************
 * 说明：  绘制浏览车辆界面的光标
 ***********************************************************************/
void draw_browse_button(int page_cars_number);

/***********************************************************************
 * 说明：  判断浏览车辆界面的鼠标点击
 ***********************************************************************/
BUTTON browse_click();

/***********************************************************************
 * 说明：  打印浏览车辆界面的指定页面车辆信息，每页20辆车
 * 参数：  cars-要显示的所有车辆
 *         page_cars_number-当前页的车辆数量
 *         page-显示第几页
 ***********************************************************************/
void browse_print_cars(PCAR *cars, int page_cars_number, int page);

/***********************************************************************
 * 说明：  绘制浏览车辆界面的页数信息
 ***********************************************************************/
void draw_browse_page(int page, int all_page);

/***********************************************************************
 * 说明：  绘制浏览车辆界面的排序模式和顺序的信息
 ***********************************************************************/
void draw_browse_sort(int mode);

/***********************************************************************
 * 说明：  绘制查询车辆界面
 ***********************************************************************/
void draw_find_windows();

/***********************************************************************
 * 说明：  绘制查询车辆界面的按钮
 ***********************************************************************/
void draw_find_button();

/***********************************************************************
 * 说明：  判断查询车辆界面的鼠标点击
 ***********************************************************************/
BUTTON find_click();

/***********************************************************************
 * 说明：  绘制删除车辆界面
 ***********************************************************************/
void draw_del_windows();

/***********************************************************************
 * 说明：  绘制删除车辆界面的光标
 ***********************************************************************/
void draw_del_button();

/***********************************************************************
 * 说明：  判断删除车辆界面的鼠标点击
 ***********************************************************************/
BUTTON del_click();

/***********************************************************************
 * 说明：  绘制退出程序界面
 ***********************************************************************/
void draw_exit_windows();

/***********************************************************************
 * 说明：  绘制退出程序界面的按钮
 ***********************************************************************/
void draw_exit_button();

/***********************************************************************
 * 说明：  判断退出程序界面的鼠标点击
 ***********************************************************************/
BUTTON exit_click();

/***********************************************************************
 * 说明：  Shell光标控制，用于指定位置打印输出
 ***********************************************************************/
void gotoxy(int x, int y); 
